<!doctype html>
<html>
<head>
	<meta name="generator" content="Hugo 0.49" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>مستندات سرویس متن‌کاوی</title>
    <link href='/slate/stylesheets/monokai.css' rel="stylesheet" media="screen" />
<link href='/slate/stylesheets/screen.css' rel="stylesheet" media="screen" />
<link href='/slate/stylesheets/print.css' rel="stylesheet" media="print" />
<link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v19.0.0/dist/font-face.css">
<link href='/slate/stylesheets/rtl.css' rel="stylesheet" media="screen" />

    
<script src='/slate/javascripts/all.js'></script>

    
</head>
<body class="index" data-languages="[ &#34;csharp&#34; ,  &#34;python&#34; ]">
    <a href="#" id="nav-button">
        <span>
        NAV
        <img src='/slate/images/navbar.png'/>
      </span>
    </a>
    <div class="tocify-wrapper">
        
         <img src='/images/logo.png' />
        
        <div class="lang-selector">
            
            <a href="#" data-language-name="csharp">C#</a>
            
            <a href="#" data-language-name="python">Python</a>
            
        </div>
         
        
        <div class="search">
            <input type="search" class="search" id="input-search" placeholder=''>
        </div>
        <ul class="search-results"></ul>
        
        <div id="toc">
        </div>
         
        
        <ul class="toc-footer">
            
            <li><a href='http://app.text-mining.ir'>ثبت‌نام و دریافت کلید API</a></li>
            
        </ul>
        
        

    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">
            
    
        

<h1 id="معرفی">معرفی</h1>

<blockquote>
<p>دریافت کلید API برنامه‌نویسان برای استفاده از امکانات از سایت <a href="https://app.text-mining.ir">https://app.text-mining.ir</a> می‌باشد</p>
</blockquote>

<p>به مستدات سرویس <a href="https://text-mining.ir">متن‌کاوی</a> خوش آمدید.</p>

<p>متن‌کاوی، مجموعه‌ای از خدمات ‌آنلاین مربوط به پردازش متون فارسی را در قالب Rest API در اختیار برنامه‌نویسان قرار می‌دهد.</p>

<p><strong>توجه: برای استفاده از هر یک از امکانات وب سرویس متن‌کاوی باید کلید API داشته باشید</strong></p>

<aside class="success">
لیست کامل توابع API در قالب <code>swagger</code> در <a href="https://api.text-mining.ir">https://api.text-mining.ir</a> در دسترس است
</aside>

<h1 id="احراز-هویت">احراز هویت</h1>

<blockquote>
<p>مطمئن شوید که <code>YOUR_API_KEY</code> را با کلید API دریافتی خود جایگزین کرده‌اید</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">client</span><span class="p">=</span><span class="k">new</span> <span class="n">RestClinet</span><span class="p">(</span><span class="s">&#34;https://api.text-mining.ir/api/Token/GetToken/apikey=YOUR_API_KEY&#34;</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">AddHeader</span><span class="p">(</span><span class="s">&#34;Cache-Control&#34;</span><span class="p">,</span><span class="s">&#34;no-cache&#34;</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&#34;https://api.text-mining.ir/api/Token/GetToken&#34;</span>
<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;apikey&#34;</span><span class="p">:</span><span class="s2">&#34;YOUR_API_KEY&#34;</span><span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Cache-Control&#39;</span><span class="p">:</span> <span class="s2">&#34;no-cache&#34;</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&#34;GET&#34;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span></code></pre></div>
<blockquote>
<p>در صورت موفق بودن درخواست، خروجی شبیه زیر برگردانده می‌شود که <code>TOKEN_VALUE</code> همان توکن احراز هویت شماست</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json">  <span class="p">{</span>
    <span class="nt">&#34;token&#34;</span><span class="p">:</span> <span class="s2">&#34;TOKEN_VALUE&#34;</span>
  <span class="p">}</span></code></pre></div>
<p>اولین گام در استفاده از توابع API متن‌کاوی احراز هویت است. احراز هویت به وسیله توکن‌های JWT در درخواست http انجام می‌شود.
برای شروع باید یک <a href="https://app.text-mining.ir">کلید API</a> دریافت کنید. سپس برای دریافت توکن تابع زیر را فراخوانی کنید</p>

<p><code>GET https://api.text-mining.ir/api/Token?apikey=YOUR_API_KEY</code></p>

<aside class="notice">
عبارت  <code>YOUR_API_KEY</code> را با مقدار کلید API دریافتی خود جایگزین کنید
</aside>

<p>بعد از دریافت خروجی که یک <code>JWT Token</code> است باید برای احراز هویت (Authentication &amp; Authorization) برای استفاده از هر یک از توابع وب سرویس در <code>Header</code> مربوط به  <code>Http Request</code> خود برای آن تابع مقدار توکن دریافتی را وارد کنید. کدهای نمونه فراخوانی توابع وب سرویس این مورد را به شما نمایش می‌دهند</p>

<h1 id="پیش-پردازش-متون">پیش پردازش متون</h1>

<h2 id="استانداردسازی-متن-ورودی">استانداردسازی متن ورودی</h2>

<p>این تابع، متن ورودی را با یکسان‌سازی حروف عربی و فارسی ، اصلاح نیم‌فاصله‌‌ها و فاصله‌ها، تبدیل به متن استاندارد می‌کند. در این تابع بیشتر از ۹۰۰ جایگزینی کاراکتر بر روی متن ووردی انجام می‌شود</p>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="p">//</span><span class="n">ToDo</span><span class="p">:</span> <span class="n">NormalizePersianWord</span> <span class="n">c</span><span class="err">#</span> <span class="n">code</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ToDo: NormalizePersianWord python code</span></code></pre></div>
<h3 id="آدرس-و-نوع-تابع-وب-سرویس">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/PreProcessing/NormalizePersianWord</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>مقدار پیش‌فرض</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>text</td>
<td></td>
<td>متن ورودی</td>
</tr>

<tr>
<td>replaceWildChar</td>
<td>true</td>
<td>آیا کاراکترها و علائم خاص با نسخه استاندارد آن جایگزین شوند</td>
</tr>

<tr>
<td>replaceDigit</td>
<td>true</td>
<td>آیا ارقام (اعداد) عربی و انگلیسی با ارقام استاندارد فارسی جایگزین شوند</td>
</tr>

<tr>
<td>refineSeparatedAffix</td>
<td>true</td>
<td>آیا نیم فاصله بین پسوند و پیشوند کلمات اصلاح شود</td>
</tr>

<tr>
<td>refineQuotationPunc</td>
<td>true</td>
<td>آیا فاصله گذاری استاندارد بین علائم و عبارت نقل قول اعمال شود</td>
</tr>
</tbody>
</table>

<h2 id="شناسایی-مرز-جملات-ساده">شناسایی مرز جملات ساده</h2>

<p>در این تابع شناسایی مرز جملات ساده/مرکب آن انجام می‌شود</p>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="p">//</span><span class="n">ToDo</span><span class="p">:</span> <span class="n">SentenceSplitter</span> <span class="n">c</span><span class="err">#</span> <span class="n">code</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ToDo: SentenceSplitter python code</span></code></pre></div>
<h3 id="آدرس-و-نوع-تابع-وب-سرویس-1">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/PreProcessing/SentenceSplitter</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر-1">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>مقدار پیش‌فرض</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>text</td>
<td></td>
<td>متن ورودی</td>
</tr>

<tr>
<td>checkSlang</td>
<td>true</td>
<td>آیا تبدیل محاوره ای به رسمی انجام شود</td>
</tr>

<tr>
<td>normalize</td>
<td>true</td>
<td>آیا نرمالسازی متن نیز انجام شود</td>
</tr>

<tr>
<td>normalizerParams</td>
<td></td>
<td>پارامترهای نرمالسازی متن ورودی</td>
</tr>

<tr>
<td>complexSentence</td>
<td>true</td>
<td>آیا بخشهای جملات مرکب غیرتودرتو نیز جدا شوند</td>
</tr>
</tbody>
</table>

<h2 id="شناسایی-مرز-جملات-و-جداسازی-کلمات">شناسایی مرز جملات و جداسازی کلمات</h2>

<p>در این تابع شناسایی مرز جملات ساده/مرکب و جداسازی کلمات (توکن‌ها) آن انجام می‌شود</p>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="p">//</span><span class="n">ToDo</span><span class="p">:</span> <span class="n">SentenceSplitterAndTokenize</span> <span class="n">c</span><span class="err">#</span> <span class="n">code</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ToDo: SentenceSplitterAndTokenize python code</span></code></pre></div>
<h3 id="آدرس-و-نوع-تابع-وب-سرویس-2">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/PreProcessing/SentenceSplitterAndTokenize</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر-2">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>مقدار پیش‌فرض</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>text</td>
<td></td>
<td>متن ورودی</td>
</tr>

<tr>
<td>checkSlang</td>
<td>true</td>
<td>آیا تبدیل محاوره ای به رسمی انجام شود</td>
</tr>

<tr>
<td>normalize</td>
<td>true</td>
<td>آیا نرمالسازی متن نیز انجام شود</td>
</tr>

<tr>
<td>normalizerParams</td>
<td></td>
<td>پارامترهای نرمالسازی متن ورودی</td>
</tr>

<tr>
<td>complexSentence</td>
<td>true</td>
<td>آیا بخشهای جملات مرکب غیرتودرتو نیز جدا شوند</td>
</tr>
</tbody>
</table>

<h2 id="جداسازی-توکن-های-متن">جداسازی توکن‌های متن</h2>

<p>در این تابع شناسایی مرز جملات ساده/مرکب آن انجام می‌شود</p>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="p">//</span><span class="n">ToDo</span><span class="p">:</span> <span class="n">Tokenize</span> <span class="n">c</span><span class="err">#</span> <span class="n">code</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ToDo: Tokenize python code</span></code></pre></div>
<h3 id="آدرس-و-نوع-تابع-وب-سرویس-3">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/PreProcessing/Tokenize</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر-3">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>مقدار پیش‌فرض</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>inputText</td>
<td></td>
<td>متن ورودی</td>
</tr>
</tbody>
</table>

<h1 id="بهبود-متون">بهبود متون</h1>

<h2 id="اصلاح-اشتباهات-تایپی">اصلاح اشتباهات تایپی</h2>

<p>این تابع وب سرویس، اشتباهات تایپی را بر اساس لیست کلمات خود اصلاح می‌کند و کلمه درست را برمی‌گرداند. این تابع مانند همه توابع دیگر نیاز به توکن JWT برای احراز هویت دارد</p>

<blockquote>
<p>به جای <code>TOKEN_VALUE</code> باید از توکن دریافتی تابع احراز هویت استفاده کنید</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="kt">var</span> <span class="n">client</span><span class="p">=</span><span class="k">new</span> <span class="n">RestClinet</span><span class="p">(</span><span class="s">&#34;https://api.text-mining.ir/api/PreProcessing/SpellCorrectors&#34;</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">AddHeader</span><span class="p">(</span><span class="s">&#34;Cache-Control&#34;</span><span class="p">,</span><span class="s">&#34;no-cache&#34;</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">AddHeader</span><span class="p">(</span><span class="s">&#34;Authorization&#34;</span><span class="p">,</span><span class="s">&#34;TOKEN_VALUE&#34;</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">AddHeader</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">,</span><span class="s">&#34;application/json&#34;</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">AddParameter</span><span class="p">(</span><span class="s">&#34;input&#34;</span><span class="p">,</span> <span class="s">$&#34;\&#34;</span><span class="p">{</span><span class="n">inputText</span><span class="p">}</span><span class="err">\</span><span class="s">&#34;&#34;</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&#34;https://api.text-mining.ir/api/PreProcessing/SpellCorrector&#34;</span>

<span class="n">payload</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="se">\&#34;</span><span class="s2">inputText</span><span class="se">\&#34;</span><span class="s2">&#34;</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s2">&#34;application/json&#34;</span><span class="p">,</span>
    <span class="s1">&#39;Cache-Control&#39;</span><span class="p">:</span> <span class="s2">&#34;no-cache&#34;</span>
    <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&#34;POST&#34;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span></code></pre></div>
<blockquote>
<p>به جای <code>inputText</code> متن ورودی خود را قرار دهید مثلاً <code>شلام</code></p>
</blockquote>

<h3 id="آدرس-و-نوع-تابع-وب-سرویس-4">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/PreProcessing/SpellCorrectors</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر-4">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>inputText</td>
<td>متن ورودی که حاوی کلمات اشتباه است و بر اساس لیست کلمات صحیح، در خروجی بازگردانده می‌شود</td>
</tr>
</tbody>
</table>

<h2 id="تبدیل-محاوره-به-رسمی">تبدیل محاوره به رسمی</h2>

<p>کلمات محاوره‌ای درون متن به شکل (معادل) رسمی آنها تبدیل می‌شود</p>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="p">//</span><span class="n">ToDo</span><span class="p">:</span> <span class="n">FormalConverter</span> <span class="n">c</span><span class="err">#</span> <span class="n">code</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ToDo: FormalConverter python code</span></code></pre></div>
<h3 id="آدرس-و-نوع-تابع-وب-سرویس-5">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/TextRefinement/FormalConverter</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر-5">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>مقدار پیش‌فرض</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>inputText</td>
<td></td>
<td>متن ورودی</td>
</tr>
</tbody>
</table>

<h2 id="تشخیص-کلمات-رکیک-و-ناسزا">تشخیص کلمات رکیک و ناسزا</h2>

<p>این تابع کلمات زشت/ناسزا (در دو سطح از اهانت) را تشخیص و تعیین میکند</p>
<div class="highlight"><pre class="chroma"><code class="language-csharp" data-lang="csharp"><span class="p">//</span><span class="n">ToDo</span><span class="p">:</span> <span class="n">SwearWordTagger</span> <span class="n">c</span><span class="err">#</span> <span class="n">code</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1">#ToDo: SwearWordTagger python code</span></code></pre></div>
<h3 id="آدرس-و-نوع-تابع-وب-سرویس-6">آدرس و نوع تابع وب‌سرویس</h3>

<p><code>POST https://api.text-mining.ir/api/TextRefinement/SwearWordTagger</code></p>

<h3 id="مدل-دریافتی-به-عنوان-پارامتر-6">مدل دریافتی به عنوان پارامتر</h3>

<table>
<thead>
<tr>
<th>عنوان</th>
<th>مقدار پیش‌فرض</th>
<th>توضیح پارامتر</th>
</tr>
</thead>

<tbody>
<tr>
<td>inputText</td>
<td></td>
<td>متن ورودی</td>
</tr>
</tbody>
</table>

    
        

<h1 id="خطاها">خطاها</h1>

<aside class="notice">در صورتی که درخواست ارسالی شما برای API به مشکلی برخورد نکند، کد 
<code>200</code> به همراه نتیجه تابع API برگردانده می‌شود
</aside>

<p>API متن‌کاوی به صورت کلی خطاهای زیر را برمی‌گرداند</p>

<table>
<thead>
<tr>
<th>کد خطا</th>
<th>معنا</th>
</tr>
</thead>

<tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; درخواست نامعتبر به دلیل اشتباه در پارامترهای ورودی</td>
</tr>

<tr>
<td>401</td>
<td>Unauthorized &ndash; درخواست شما احراز هویت نشده است. ممکن است به دلیل کلید API اشتباه یا منقضی باشد</td>
</tr>

<tr>
<td>404</td>
<td>Not Found &ndash; آدرس درخواستی شما در لیست توابع API وجود ندارد</td>
</tr>

<tr>
<td>500</td>
<td>Internal Server Error &ndash; خطا در سرور API</td>
</tr>
</tbody>
</table>

    

        </div>
        <div class="dark-box">
            
            <div class="lang-selector">
                
                <a href="#" data-language-name="csharp">C#</a>
                
                <a href="#" data-language-name="python">Python</a>
                
            </div>
            
        </div>
    </div>
    
</body>
</html>
